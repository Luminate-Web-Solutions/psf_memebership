<div class="event-list-container min-h-screen">
  <!-- Header Section -->
  <div class="event-list-header flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4">
    <h2 class="text-2xl font-bold text-gray-800">Event Management</h2>
    <button 
      mat-raised-button 
      color="primary" 
      (click)="addEvent()"
      class="flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white"
    >
      <mat-icon class="text-white">add</mat-icon>
      Add New Event
    </button>
  </div>

  <!-- Filter Card -->
  <mat-card class="filter-card bg-white rounded-lg shadow-sm mb-6 p-4">
    <mat-form-field appearance="outline" class="filter-field w-full">
      <mat-label class="text-gray-500">Filter</mat-label>
      <input 
        matInput 
        (keyup)="applyFilter($event)" 
        placeholder="Search events..."
        class="placeholder-gray-400"
      >
      <mat-icon matSuffix class="text-gray-400">search</mat-icon>
    </mat-form-field>
  </mat-card>

  <!-- Loading State -->
  <div class="loading-container flex justify-center items-center py-12" *ngIf="loading">
    <mat-spinner diameter="40" class="text-indigo-600"></mat-spinner>
  </div>

  <!-- Error State -->
  <div class="error-container bg-red-50 border-l-4 border-red-500 p-4 mb-6 rounded" *ngIf="error && !loading">
    <div class="flex items-center">
      <mat-icon class="text-red-500 mr-2">error</mat-icon>
      <p class="error-message text-red-700 font-medium">{{ error }}</p>
    </div>
    <button 
      mat-raised-button 
      color="primary" 
      (click)="loadEvents()"
      class="mt-3 bg-indigo-600 hover:bg-indigo-700 text-white"
    >
      Retry
    </button>
  </div>

  <!-- Event Table -->
  <div class="table-container bg-white rounded-lg shadow-sm overflow-hidden" *ngIf="!loading && !error">
    <table 
      mat-table 
      [dataSource]="dataSource" 
      matSort 
      class="event-table w-full"
    >
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-4 py-3 text-left font-medium text-gray-700 bg-gray-100">
          Event Name
        </th>
        <td mat-cell *matCellDef="let event" class="px-4 py-3 text-gray-800 border-t border-gray-200">
          {{ event.name }}
        </td>
      </ng-container>

      <!-- Date Column -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="px-4 py-3 text-left font-medium text-gray-700 bg-gray-100">
          Date
        </th>
        <td mat-cell *matCellDef="let event" class="px-4 py-3 text-gray-600 border-t border-gray-200">
          {{ formatDate(event.date) }}
        </td>
      </ng-container>

      <!-- Image Column -->
      <ng-container matColumnDef="image">
        <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-left font-medium text-gray-700 bg-gray-100">
          Image
        </th>
        <td mat-cell *matCellDef="let event" class="px-4 py-3 border-t border-gray-200">
          <div class="event-image-container flex items-center">
            <img 
              *ngIf="event.image" 
              [src]="event.image" 
              alt="{{ event.name }}" 
              class="event-thumbnail w-12 h-12 object-cover rounded"
            >
            <span *ngIf="!event.image" class="no-image text-gray-400 text-sm">
              No image
            </span>
          </div>
        </td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="px-4 py-3 text-right font-medium text-gray-700 bg-gray-100">
          Actions
        </th>
        <td mat-cell *matCellDef="let event" class="px-4 py-3 text-right border-t border-gray-200">
          <div class="flex justify-end gap-1">
            <button 
              mat-icon-button 
              color="primary" 
              (click)="editEvent(event)" 
              matTooltip="Edit"
              class="hover:bg-indigo-50 text-indigo-600"
            >
              <mat-icon>edit</mat-icon>
            </button>
            <button 
              mat-icon-button 
              color="warn" 
              (click)="deleteEvent(event)" 
              matTooltip="Delete"
              class="hover:bg-red-50 text-red-600"
            >
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="h-auto"></tr>
      <tr 
        mat-row 
        *matRowDef="let row; columns: displayedColumns;" 
        class="hover:bg-gray-50 transition-colors"
      ></tr>

      <!-- Empty State -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell py-6 text-center text-gray-500 italic" colspan="4">
          No events found matching your criteria
        </td>
      </tr>
    </table>

    <!-- Paginator -->
    <mat-paginator 
      [pageSizeOptions]="[5, 10, 25, 100]" 
      showFirstLastButtons
      class="border-t border-gray-200"
    ></mat-paginator>
  </div>
</div>